<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
	<title>Contratos</title>
	<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet"></link>
	<link href="fontawesome/css/all.css" rel="stylesheet" type="text/css" media="all"/>
	<script type="text/javascript" src="jquery/jquery-3.5.1.js"></script>
	<script type="text/javascript" src="js/inputMask.js"></script>
	<script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
</head>
<body>
	<div class="container" style="min-height: 730px;">
		<div class="jumbotron" align="center" style="margin-top: 50px;">
			<h2><i class="fas fa-user-tie"></i> Cadastro de Fornecedor</h2>
			<br />
			<div align="left">
				<form action="salvarFornecedor" method="post">
					<div class="form-group">
						<label for="razaoSocial">Razão Social*</label> 
						<input type="text" class="form-control" id="razaoSocial" name="razaoSocial" placeholder="Razão Social" />
					</div>
					<div class="form-group">
						<label for="cnpj">CNPJ*</label> 
						<input type="text" class="form-control" id="cnpj" name="cnpj" placeholder="CNPJ" 
							maxlength="18" onchange="javascript: fMasc( this, mCNPJ );" oninput="javascript: fMasc( this, mCNPJ );"
						/>
					</div>
					<div class="form-group">
						<label for="email">E-mail*</label> 
						<input type="email" class="form-control" id="email" name="email" placeholder="E-mail" />
					</div>
					<div class="form-group">
						<label for="telefone">Telefone</label> 
						<input type="tel" class="form-control" id="telefone" name="telefone" placeholder="Telefone"
						 maxlength="14" onchange="javascript: fMasc( this, mTel );" oninput="javascript: fMasc( this, mTel );"
						 />
					</div>
					<div class="form-group">
						<label for="endereco">Endereço</label> 
						<input type="text" class="form-control" id="endereco" name="endereco" placeholder="Endereço" />
					</div>
					<button type="submit" class="btn btn-success">Salvar</button>
				</form>
				<br/>
				<p> <i><span th:text="${mensagem}"></span> </i></p>
			</div>
			
			<h4>Lista de Fornecedores </h4>
			<div align="left">
				<table class="table table-hover table-sm table-bordered">
					<thead>
						<tr>
							<th>Id</th>
							<th>Razão Social</th>
							<th>CNPJ</th>
							<th>E-mail</th>
							<th>Telefone</th>
							<th>Endereço</th>
							<th>Ações</th>
						</tr>
					</thead>
					<tr th:each="fornecedor : ${fornecedores}">
						<td><span th:text="${fornecedor.id}"></span></td>
						<td><span th:text="${fornecedor.razaoSocial}"></span></td>
						<td><span th:text="${fornecedor.cnpj}"></span></td>
						<td><span th:text="${fornecedor.email}"></span></td>
						<td><span th:text="${fornecedor.telefone}"></span></td>
						<td><span th:text="${fornecedor.endereco}"></span></td>
						<td style="width: 11%;">
							<form style="display: inline;" action="detalharFornecedor" method="post">
							    <input type="hidden" th:value="${fornecedor.id}" name="fornecedorId" />
								<button type="submit"  class="btn btn-sm" title="Detalhar">
									<i class="far fa-edit" title="Detalhar"></i>
								</button>					
							</form>
							<form style="display: inline;" action="excluirFornecedor" method="post">
							    <input type="hidden" th:value="${fornecedor.id}" name="fornecedorId" />
								<button type="submit"  class="btn btn-sm" title="Excluir" onclick="return confirm('Tem certeza que deseja excluir este fornecedor?');">
									<i class="fas fa-trash" title="Excluir"></i>
								</button>					
							</form>
						</td>
						
					</tr>
				</table>
			</div>
			
			
		</div>
		<a href="gerenciadorContratos" class="btn btn-sm btn-primary" title="Home"><i class="fas fa-home" title="Home"></i> Home</a>
		
		
	</div>
</body>

<footer class="page-footer font-small pt-4" style="background-color: #e9ecef;margin-top: 20px;" > 
	<div class="footer-copyright text-center" style="padding-bottom: 2rem;height: 35px !important;">
		&copy; Gerenciador de Contratos [v0.0.1]
	</div>
</footer>
</html>