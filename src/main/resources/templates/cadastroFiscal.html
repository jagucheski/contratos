<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"></meta>
	<title>Contratos</title>
	<link href="bootstrap/css/bootstrap.min.css" rel="stylesheet"></link>
	<link href="fontawesome/css/all.css" rel="stylesheet" type="text/css" media="all"/>
	<script type="text/javascript" src="jquery/jquery-3.5.1.js"></script>
	<script type="text/javascript" src="js/inputMask.js"></script>
	<script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
</head>
<body>
	<div class="container" style="min-height: 730px;">
		<div class="jumbotron" align="center" style="margin-top: 50px;">
			<h2><i class="fas fa-user"></i> Cadastro de Fiscal</h2>
			<br />
			<div align="left">
				<form action="salvarFiscal" method="post">
					<div class="form-group">
						<label for="nome">Nome Completo*</label> 
						<input type="text" class="form-control" id="nome" name="nome" placeholder="Nome Completo" />
					</div>
					<div class="form-group">
						<label for="matricula">Matrícula*</label> 
						<input type="text" class="form-control" id="matricula" name="matricula" placeholder="Matrícula" 
							maxlength="10" onchange="javascript: fMasc( this, mNum );" oninput="javascript: fMasc( this, mNum );"/>
					</div>
					<div class="form-group">
						<label for="email">E-mail*</label> 
						<input type="email" class="form-control" id="email" name="email" placeholder="E-mail" />
					</div>
					<input type="hidden"  id="id" name="id"/>
					<button type="submit" class="btn btn-success">Salvar</button>
				</form>
				<br/>
				<p> <i><span th:text="${mensagem}"></span> </i></p>
			</div>
			
			
			<h4>Lista de Fiscais </h4>
			<div align="left">
				<table class="table table-hover table-sm table-bordered">
					<thead>
						<tr>
							<th>Id</th>
							<th>Nome</th>
							<th>Matricula</th>
							<th>E-mail</th>
							<th>Ações</th>
							
						</tr>
					</thead>
					<tr th:each="fiscal : ${fiscais}">
						<td><span th:text="${fiscal.id}"></span></td>
						<td><span th:text="${fiscal.nome}"></span></td>
						<td><span th:text="${fiscal.matricula}"></span></td>
						<td><span th:text="${fiscal.email}"></span></td>
						<td style="width: 11%;">
							<form style="display: inline;" action="detalharFiscal" method="post">
							    <input type="hidden" th:value="${fiscal.id}" name="fiscalId" />
								<button type="submit"  class="btn btn-sm" title="Detalhar">
									<i class="far fa-edit" title="Detalhar"></i>
								</button>					
							</form>
							<form style="display: inline;" action="excluirFiscal" method="post">
							    <input type="hidden" th:value="${fiscal.id}" name="fiscalId" />
								<button type="submit"  class="btn btn-sm" title="Excluir" onclick="return confirm('Tem certeza que deseja excluir este fiscal?');">
									<i class="fas fa-trash" title="Excluir"></i>
								</button>					
							</form>
						</td>
						
					</tr>
				</table>

			</div>
			
			
		</div>
		<a href="gerenciadorContratos" class="btn btn-sm btn-primary" title="Home"><i class="fas fa-home" title="Home"></i> Home</a>
	</div>
</body>
<footer class="page-footer font-small pt-4" style="background-color: #e9ecef;margin-top: 20px;" > 
	<div class="footer-copyright text-center" style="padding-bottom: 2rem;height: 35px !important;">
		&copy; Gerenciador de Contratos [v0.0.1]
	</div>
</footer>

</html>